<?php

$ACC = "A".$cedula;

$cal=
    
              "SELECT 
              id_form, id_A, id_B, 
              p1, p2, p3, p4, p5, 
              p6, p7, p8, p9, p10,
              p11, p12, p13, p14, p15, 
              p16, p17, p18, p19, p20, 
              p21, p22, p23, p24, p25,
              p26, p27, p29, p29, p30,
              p31, p32, comentarios
              FROM form
              WHERE id_A='$ACC'";

    $resu=mysqli_query($con,$cal);

    $num=0;
    $Rp1=0;
    $Rp2=0;
    $Rp3=0;
    $Rp4=0;
    $Rp5=0;
    $Rp6=0;
    $Rp7=0;
    $Rp8=0;
    $Rp9=0;
    $Rp10=0;
    $Rp11=0;
    $Rp12=0;
    $Rp13=0;
    $Rp14=0;
    $Rp15=0;
    $Rp16=0;
    $Rp17=0;
    $Rp18=0;
    $Rp19=0;
    $Rp20=0;
    $Rp21=0;
    $Rp22=0;
    $Rp23=0;
    $Rp24=0;
    $Rp25=0;
    $Rp26=0;
    $Rp27=0;
    $Rp28=0;
    $Rp29=0;
    $Rp30=0;
    $Rp31=0;
    $Rp32=0;


    while($row=$resu->fetch_array())
    {
        $num++;

        $Rp1 += $row['p1'];
        $Rp2 += $row['p2'];
        $Rp3 += $row['p3'];
        $Rp4 += $row['p4'];
        $Rp5 += $row['p5'];
        $Rp6 += $row['p6'];
        $Rp7 += $row['p7'];
        $Rp8 += $row['p8'];
        $Rp9 += $row['p9'];
        $Rp10 += $row['p10'];
        $Rp11 += $row['p11'];
        $Rp12 += $row['p12'];
        $Rp13 += $row['p13'];
        $Rp14 += $row['p14'];
        $Rp15 += $row['p15'];
        $Rp16 += $row['p16'];
        $Rp17 += $row['p17'];
        $Rp18 += $row['p18'];
        $Rp19 += $row['p19'];
        $Rp20 += $row['p20'];
        $Rp21 += $row['p21'];
        $Rp22 += $row['p22'];
        $Rp23 += $row['p13'];
        $Rp24 += $row['p14'];
        $Rp25 += $row['p15'];
        $Rp26 += $row['p16'];
        $Rp27 += $row['p17'];
        $Rp28 += $row['p18'];
        $Rp29 += $row['p19'];
        $Rp30 += $row['p20'];
        $Rp31 += $row['p21'];
        $Rp32 += $row['p22'];
        $comen = $row['comentarios'];
    }



    //if para los 10

if($Rp32!=0)
{
    $Exp =
   (
   (
   ((($Rp17+$Rp18)/2)*16/100)+
   ((($Rp7+$Rp8+$Rp9+$Rp10)/4)*12/100)+
   ((($Rp1+$Rp2)/2)*10/100)+
   ((($Rp13+$Rp14)/2)*10/100)+
   ((($Rp11+$Rp12)/2)*10/100)+
   ((($Rp19+$Rp20)/2)*9/100)+
   ((($Rp5+$Rp6)/2)*9/100)+
   ((($Rp15+$Rp16)/2)*9/100)+
   ((($Rp21+$Rp22)/2)*8/100)+
   ((($Rp3+$Rp4)/2)*7/100)
   +
   (($Rp23+$Rp24+$Rp25+$Rp26+$Rp27+$Rp28+$Rp29+$Rp30+$Rp31+$Rp32)/10))/2);
}

//if para los 9

else if($Rp31!=0)
{
    $Exp =
   (
   (
   ((($Rp17+$Rp18)/2)*16/100)+
   ((($Rp7+$Rp8+$Rp9+$Rp10)/4)*12/100)+
   ((($Rp1+$Rp2)/2)*10/100)+
   ((($Rp13+$Rp14)/2)*10/100)+
   ((($Rp11+$Rp12)/2)*10/100)+
   ((($Rp19+$Rp20)/2)*9/100)+
   ((($Rp5+$Rp6)/2)*9/100)+
   ((($Rp15+$Rp16)/2)*9/100)+
   ((($Rp21+$Rp22)/2)*8/100)+
   ((($Rp3+$Rp4)/2)*7/100)
   +
   (($Rp23+$Rp24+$Rp25+$Rp26+$Rp27+$Rp28+$Rp29+$Rp30+$Rp31)/9))/2);
}
    //if para los 8

    else if($Rp30!=0)
    {
        $Exp =
       (
       (
       ((($Rp17+$Rp18)/2)*16/100)+
       ((($Rp7+$Rp8+$Rp9+$Rp10)/4)*12/100)+
       ((($Rp1+$Rp2)/2)*10/100)+
       ((($Rp13+$Rp14)/2)*10/100)+
       ((($Rp11+$Rp12)/2)*10/100)+
       ((($Rp19+$Rp20)/2)*9/100)+
       ((($Rp5+$Rp6)/2)*9/100)+
       ((($Rp15+$Rp16)/2)*9/100)+
       ((($Rp21+$Rp22)/2)*8/100)+
       ((($Rp3+$Rp4)/2)*7/100)
       
       +
       (($Rp23+$Rp24+$Rp25+$Rp26+$Rp27+$Rp28+$Rp29+$Rp30)/8))/2);
    }

//if para los 7

else if($Rp29!=0)
{
 $Exp =
(
(
((($Rp17+$Rp18)/2)*16/100)+
((($Rp7+$Rp8+$Rp9+$Rp10)/4)*12/100)+
((($Rp1+$Rp2)/2)*10/100)+
((($Rp13+$Rp14)/2)*10/100)+
((($Rp11+$Rp12)/2)*10/100)+
((($Rp19+$Rp20)/2)*9/100)+
((($Rp5+$Rp6)/2)*9/100)+
((($Rp15+$Rp16)/2)*9/100)+
((($Rp21+$Rp22)/2)*8/100)+
((($Rp3+$Rp4)/2)*7/100)
+
(($Rp23+$Rp24+$Rp25+$Rp26+$Rp27+$Rp28+$Rp29)/7))/2);
}
//if para los 6

else if($Rp28!=0)
{
  $Exp =
 (
 (
 ((($Rp17+$Rp18)/2)*16/100)+
 ((($Rp7+$Rp8+$Rp9+$Rp10)/4)*12/100)+
 ((($Rp1+$Rp2)/2)*10/100)+
 ((($Rp13+$Rp14)/2)*10/100)+
 ((($Rp11+$Rp12)/2)*10/100)+
 ((($Rp19+$Rp20)/2)*9/100)+
 ((($Rp5+$Rp6)/2)*9/100)+
 ((($Rp15+$Rp16)/2)*9/100)+
 ((($Rp21+$Rp22)/2)*8/100)+
 ((($Rp3+$Rp4)/2)*7/100)
 
 +
 (($Rp23+$Rp24+$Rp25+$Rp26+$Rp27+$Rp28)/6))/2);
}
//if para los 5

else if($Rp27!=0)
{
  $Exp =
 (
 (
 ((($Rp17+$Rp18)/2)*16/100)+
 ((($Rp7+$Rp8+$Rp9+$Rp10)/4)*12/100)+
 ((($Rp1+$Rp2)/2)*10/100)+
 ((($Rp13+$Rp14)/2)*10/100)+
 ((($Rp11+$Rp12)/2)*10/100)+
 ((($Rp19+$Rp20)/2)*9/100)+
 ((($Rp5+$Rp6)/2)*9/100)+
 ((($Rp15+$Rp16)/2)*9/100)+
 ((($Rp21+$Rp22)/2)*8/100)+
 ((($Rp3+$Rp4)/2)*7/100)
 
 +
 (($Rp23+$Rp24+$Rp25+$Rp26+$Rp27)/5))/2);
}
//if para los 4

else if($Rp26!=0)
{
    $Exp =
   (
   (
   ((($Rp17+$Rp18)/2)*16/100)+
   ((($Rp7+$Rp8+$Rp9+$Rp10)/4)*12/100)+
   ((($Rp1+$Rp2)/2)*10/100)+
   ((($Rp13+$Rp14)/2)*10/100)+
   ((($Rp11+$Rp12)/2)*10/100)+
   ((($Rp19+$Rp20)/2)*9/100)+
   ((($Rp5+$Rp6)/2)*9/100)+
   ((($Rp15+$Rp16)/2)*9/100)+
   ((($Rp21+$Rp22)/2)*8/100)+
   ((($Rp3+$Rp4)/2)*7/100)
   
   +
   (($Rp23+$Rp24+$Rp25+$Rp26)/4))/2);
}
  //if para los 7

else if($Rp25!=0)
{
  $Exp =
 (
 (
 ((($Rp17+$Rp18)/2)*16/100)+
 ((($Rp7+$Rp8+$Rp9+$Rp10)/4)*12/100)+
 ((($Rp1+$Rp2)/2)*10/100)+
 ((($Rp13+$Rp14)/2)*10/100)+
 ((($Rp11+$Rp12)/2)*10/100)+
 ((($Rp19+$Rp20)/2)*9/100)+
 ((($Rp5+$Rp6)/2)*9/100)+
 ((($Rp15+$Rp16)/2)*9/100)+
 ((($Rp21+$Rp22)/2)*8/100)+
 ((($Rp3+$Rp4)/2)*7/100)
 
 +
 (($Rp23+$Rp24+$Rp25)/3))/2);
}
//if para los 7

else if($Rp24!=0)
{
    $Exp =
   (
   (
   ((($Rp17+$Rp18)/2)*16/100)+
   ((($Rp7+$Rp8+$Rp9+$Rp10)/4)*12/100)+
   ((($Rp1+$Rp2)/2)*10/100)+
   ((($Rp13+$Rp14)/2)*10/100)+
   ((($Rp11+$Rp12)/2)*10/100)+
   ((($Rp19+$Rp20)/2)*9/100)+
   ((($Rp5+$Rp6)/2)*9/100)+
   ((($Rp15+$Rp16)/2)*9/100)+
   ((($Rp21+$Rp22)/2)*8/100)+
   ((($Rp3+$Rp4)/2)*7/100)
   
   +
   (($Rp23+$Rp24)/2))/2);
}
else
{
    $Exp =
   (
   (
   ((($Rp17+$Rp18)/2)*16/100)+
   ((($Rp7+$Rp8+$Rp9+$Rp10)/4)*12/100)+
   ((($Rp1+$Rp2)/2)*10/100)+
   ((($Rp13+$Rp14)/2)*10/100)+
   ((($Rp11+$Rp12)/2)*10/100)+
   ((($Rp19+$Rp20)/2)*9/100)+
   ((($Rp5+$Rp6)/2)*9/100)+
   ((($Rp15+$Rp16)/2)*9/100)+
   ((($Rp21+$Rp22)/2)*8/100)+
   ((($Rp3+$Rp4)/2)*7/100)
   
   +
   ($Rp23))/2);

}